================================================================================
MinIO Orphan File Cleanup Script
================================================================================
Mode: LIVE (files WILL be deleted)

Connecting to database...
Connecting to MinIO...

================================================================================
ANALYZING AUDIO CHUNKS
================================================================================
Fetching referenced audio chunks from DB...
‚úì Found 13232 referenced chunks in DB
Listing all files in MinIO bucket 'heimdall-audio-chunks'...
‚úì Found 37576 files in MinIO

üóëÔ∏è  Found 24344 orphan audio chunks
üìä Storage: 24344 √ó ~800KB ‚âà 19.02 GB

Deleting 24344 files from heimdall-audio-chunks...
Deleted 1000/24344 files...
Deleted 2000/24344 files...
Deleted 3000/24344 files...
Deleted 4000/24344 files...
Deleted 5000/24344 files...
Deleted 6000/24344 files...
Deleted 7000/24344 files...
Deleted 8000/24344 files...
Deleted 9000/24344 files...
Deleted 10000/24344 files...
Deleted 11000/24344 files...
Deleted 12000/24344 files...
Deleted 13000/24344 files...
Deleted 14000/24344 files...
Deleted 15000/24344 files...
Deleted 16000/24344 files...
Deleted 17000/24344 files...
Deleted 18000/24344 files...
Deleted 19000/24344 files...
Deleted 20000/24344 files...
Deleted 21000/24344 files...
Deleted 22000/24344 files...
Deleted 23000/24344 files...
Deleted 24000/24344 files...
Deleted 24344/24344 files...
‚úÖ Successfully deleted 24344 files from heimdall-audio-chunks

================================================================================
ANALYZING SYNTHETIC IQ
================================================================================
Fetching referenced synthetic IQ paths from DB...
‚úì Found 25863 referenced IQ files in DB
Listing all files in MinIO bucket 'heimdall-synthetic-iq'...
‚úì Found 179383 files in MinIO

üóëÔ∏è  Found 153520 orphan synthetic IQ files
üìä Storage: 153520 √ó ~1.5MB ‚âà 224.88 GB

Deleting 153520 files from heimdall-synthetic-iq...
Deleted 1000/153520 files...
Deleted 2000/153520 files...
Deleted 3000/153520 files...
Deleted 4000/153520 files...
Deleted 5000/153520 files...
Deleted 6000/153520 files...
Deleted 7000/153520 files...
Deleted 8000/153520 files...
Deleted 9000/153520 files...
Deleted 10000/153520 files...
Deleted 11000/153520 files...
Deleted 12000/153520 files...
Deleted 13000/153520 files...
Deleted 14000/153520 files...
Deleted 15000/153520 files...
Deleted 16000/153520 files...
Deleted 17000/153520 files...
Deleted 18000/153520 files...
Deleted 19000/153520 files...
Deleted 20000/153520 files...
Deleted 21000/153520 files...
Deleted 22000/153520 files...
Deleted 23000/153520 files...
Deleted 24000/153520 files...
Deleted 25000/153520 files...
Deleted 26000/153520 files...
Deleted 27000/153520 files...
Deleted 28000/153520 files...
Deleted 29000/153520 files...
Deleted 30000/153520 files...
Deleted 31000/153520 files...
Deleted 32000/153520 files...
Deleted 33000/153520 files...
Deleted 34000/153520 files...
Deleted 35000/153520 files...
Deleted 36000/153520 files...
Deleted 37000/153520 files...
Deleted 38000/153520 files...
Deleted 39000/153520 files...
Deleted 40000/153520 files...
Deleted 41000/153520 files...
Deleted 42000/153520 files...
Deleted 43000/153520 files...
Deleted 44000/153520 files...
Deleted 45000/153520 files...
Deleted 46000/153520 files...
Deleted 47000/153520 files...
Deleted 48000/153520 files...
Deleted 49000/153520 files...
Deleted 50000/153520 files...
Deleted 51000/153520 files...
Deleted 52000/153520 files...
Deleted 53000/153520 files...
Deleted 54000/153520 files...
Deleted 55000/153520 files...
Deleted 56000/153520 files...
Deleted 57000/153520 files...
Deleted 58000/153520 files...
Deleted 59000/153520 files...
Deleted 60000/153520 files...
Deleted 61000/153520 files...
Deleted 62000/153520 files...
Deleted 63000/153520 files...
Deleted 64000/153520 files...
Deleted 65000/153520 files...
Deleted 66000/153520 files...
Deleted 67000/153520 files...
Deleted 68000/153520 files...
Deleted 69000/153520 files...
Deleted 70000/153520 files...
Deleted 71000/153520 files...
Deleted 72000/153520 files...
Deleted 73000/153520 files...
Deleted 74000/153520 files...
Deleted 75000/153520 files...
Deleted 76000/153520 files...
Deleted 77000/153520 files...
Deleted 78000/153520 files...
Deleted 79000/153520 files...
Deleted 80000/153520 files...
Deleted 81000/153520 files...
Deleted 82000/153520 files...
Deleted 83000/153520 files...
Deleted 84000/153520 files...
Deleted 85000/153520 files...
Deleted 86000/153520 files...
Deleted 87000/153520 files...
Deleted 88000/153520 files...
Deleted 89000/153520 files...
Deleted 90000/153520 files...
Deleted 91000/153520 files...
Deleted 92000/153520 files...
Deleted 93000/153520 files...
Deleted 94000/153520 files...
Deleted 95000/153520 files...
Deleted 96000/153520 files...
Deleted 97000/153520 files...
Deleted 98000/153520 files...
Deleted 99000/153520 files...
Deleted 100000/153520 files...
Deleted 101000/153520 files...
Deleted 102000/153520 files...
Deleted 103000/153520 files...
Deleted 104000/153520 files...
Deleted 105000/153520 files...
Deleted 106000/153520 files...
Deleted 107000/153520 files...
Deleted 108000/153520 files...
Deleted 109000/153520 files...
Deleted 110000/153520 files...
Deleted 111000/153520 files...
Deleted 112000/153520 files...
Deleted 113000/153520 files...
Deleted 114000/153520 files...
Deleted 115000/153520 files...
Deleted 116000/153520 files...
Deleted 117000/153520 files...
Deleted 118000/153520 files...
Deleted 119000/153520 files...
Deleted 120000/153520 files...
Deleted 121000/153520 files...
Deleted 122000/153520 files...
Deleted 123000/153520 files...
Deleted 124000/153520 files...
Deleted 125000/153520 files...
Deleted 126000/153520 files...
Deleted 127000/153520 files...
Deleted 128000/153520 files...
Deleted 129000/153520 files...
Deleted 130000/153520 files...
Deleted 131000/153520 files...
Deleted 132000/153520 files...
Deleted 133000/153520 files...
Deleted 134000/153520 files...
Deleted 135000/153520 files...
Deleted 136000/153520 files...
Deleted 137000/153520 files...
Deleted 138000/153520 files...
Deleted 139000/153520 files...
Deleted 140000/153520 files...
Deleted 141000/153520 files...
Deleted 142000/153520 files...
Deleted 143000/153520 files...
Deleted 144000/153520 files...
Deleted 145000/153520 files...
Deleted 146000/153520 files...
Deleted 147000/153520 files...
Deleted 148000/153520 files...
Deleted 149000/153520 files...
Deleted 150000/153520 files...
Deleted 151000/153520 files...
Deleted 152000/153520 files...
Deleted 153000/153520 files...
Deleted 153520/153520 files...
‚úÖ Successfully deleted 153520 files from heimdall-synthetic-iq

================================================================================
SUMMARY
================================================================================
Total orphan files: 177,864
Total space to reclaim: ~243.90 GB

‚úÖ Cleanup complete!
