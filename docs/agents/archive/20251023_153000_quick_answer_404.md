# ğŸ¯ RISPOSTA RAPIDA: Endpoint 404

## La Tua Domanda
```
Come mai non vedo http://localhost:8000/api/v1/acquisition/websdrs
nei API gateway docs?
```

## La Risposta Breve

### âœ… L'endpoint ESISTE
```python
# In: services/rf-acquisition/src/routers/acquisition.py (line ~245)
@router.get("/websdrs", response_model=list[dict])
async def list_websdrs():
    return get_websdrs_config()  # 7 WebSDRs
```

### âŒ Non lo vedi in Swagger del Gateway
PerchÃ© Ã¨ **proxied** â†’ non Ã¨ definito direttamente nel gateway

### âœ… Ma il Gateway LO PROXYA
```python
# In: services/api-gateway/src/main.py (line 79)
@app.api_route("/api/v1/acquisition/{path:path}", ...)
async def proxy_to_rf_acquisition(request, path):
    return await proxy_request(request, RF_ACQUISITION_URL)
```

### ğŸ“š Come Vedere gli Endpoint

```
Gateway Docs:         http://localhost:8000/docs        â† Non mostra proxied
Service Docs:         http://localhost:8001/docs        â† Mostra TUTTI âœ…
```

**ğŸ‘‰ Vai a http://localhost:8001/docs per vedere `/websdrs`**

---

## Come Testare in 2 Secondi

```powershell
python test_full_stack.py
```

Se ritorna:
```
âœ… All Tests Passed!
âœ… API Gateway is online
âœ… RF-Acquisition Service is online  
âœ… /api/v1/acquisition/websdrs endpoint is accessible
```

â†’ **Tutto funziona! Il frontend puÃ² chiamare il backend.**

Se ritorna:
```
âŒ Failed Tests
âŒ Connection Error: [Errno 10061]
```

â†’ **I services non sono online:**
```powershell
docker-compose up -d api-gateway rf-acquisition
python test_full_stack.py  # Riprova
```

---

## Se il Test Passa ma Browser Mostra 404

### Check 1: Verification il .env
```bash
# frontend/.env deve avere:
VITE_API_URL=http://localhost:8000
# NO: http://localhost:8000/api
```

### Check 2: Hard Reload Browser
```
Ctrl+Shift+R (hard refresh)
Oppure: Ctrl+Shift+Delete (cancella cache)
```

### Check 3: Apri Console Browser (F12)
Dovresti vedere log come:
```
ğŸ”§ API Configuration: {VITE_API_URL: 'http://localhost:8000', ...}
ğŸ“¤ API Request: {method: 'GET', url: '/api/v1/acquisition/websdrs', ...}
```

Se NO â†’ il frontend non has been updated

---

## Architettura in 5 Secondi

```
Browser (3001)
    â†“ GET /api/v1/acquisition/websdrs
API Gateway (8000) [proxy]
    â†“ forward to
RF-Acquisition (8001) [real service]
    â†“ response
Browser âœ… JSON con 7 WebSDRs
```

---

## Azioni Immediate

1ï¸âƒ£ **Test:**
```powershell
python test_full_stack.py
```

2ï¸âƒ£ **Se test fallisce:**
```powershell
docker-compose up -d
```

3ï¸âƒ£ **Apri browser:**
```
http://localhost:3001/websdrs
F12 â†’ Console â†’ Scroll up
```

4ï¸âƒ£ **Se vedi `ğŸ“¤ API Request` log:**
```
âœ… Frontend chiama davvero il backend!
```

---

**Status**: âœ… Diagnostica completa
**Next**: Esegui `python test_full_stack.py`

